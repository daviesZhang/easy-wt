<button *ngIf="queue.length;else sleep" [nzPopoverContent]="contentTemplate"
        class="run-status"
        nz-button
        nz-popover

        nzPopoverOverlayClassName="run-status-run-popover"
        nzDanger nzPopoverPlacement="bottomRight" nzSize="small" nzType="primary">
  <span nz-icon nzSpin nzTheme="outline" nzType="sync"></span>{{'case.run_status.run'|translate}}
</button>
<ng-template #sleep>
  <button
    class="run-status"
    nz-button
    nzGhost nzSize="small" nzType="primary">
    <span nz-icon nzTheme="outline" nzType="smile"></span>{{'case.run_status.idle'|translate}}
  </button>
</ng-template>

<ng-template #contentTemplate>
  <nz-list class="task-list" nzBordered nzSize="small">
    <nz-list-item *ngFor="let item of queue">
      <nz-tag><span *ngIf="running[item.uuid]" nz-icon nzSpin nzTheme="outline" nzType="sync"></span>
        <span>{{item.scriptCase.name}}</span></nz-tag>
    </nz-list-item>
  </nz-list>
</ng-template>
